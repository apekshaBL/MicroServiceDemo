    server.port=8087
    spring.application.name=user-service


    # --- Database Configuration ---
    spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/student_service_db
    spring.datasource.username=postgres
    spring.datasource.password=apeksha123
    spring.datasource.driver-class-name=org.postgresql.Driver


    # --- Liquibase Configuration ---
    spring.liquibase.enabled=false
    # Correct path matches your screenshot (master.xml)
    spring.liquibase.change-log=classpath:db/changelog/user-master.xml


    spring.jpa.show-sql=true
    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
    spring.jpa.hibernate.ddl-auto=update


    # Hibernate Multi-Tenancy
    spring.jpa.properties.hibernate.multiTenancy=SCHEMA
    spring.jpa.open-in-view=false

    # Actuator (Health Check for Consul)
    management.endpoints.web.exposure.include=health
    management.endpoint.health.show-details=always
    spring.cloud.consul.discovery.health-check-path=/actuator/health
    spring.cloud.consul.discovery.health-check-interval=10s
    spring.cloud.consul.discovery.heartbeat.enabled=true



    # ADD THIS LINE:
   # spring.jpa.properties.hibernate.multi_tenant_connection_provider=common.multitenancy.SchemaMultiTenantConnectionProvider

    # This one you already have:
   # spring.jpa.properties.hibernate.tenant_identifier_resolver=common.multitenancy.TenantIdentifierResolver

# Disable Spring Boot's default JPA auto-configuration to avoid the "multiple primary beans" error
spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration


    spring.cloud.consul.discovery.instance-id=${spring.application.name}:${random.value}
    spring.cloud.consul.discovery.service-name=${spring.application.name}


    # --- Consul Discovery ---
    spring.cloud.consul.discovery.health-check-critical-timeout=1m
    spring.cloud.consul.discovery.prefer-ip-address=true
    spring.cloud.consul.discovery.hostname=127.0.0.1



# REMOVE OR COMMENT OUT THIS LINE:
# spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration

# CHANGE THIS TO TRUE:
spring.cloud.consul.enabled=true

# Ensure these match the Gateway's expectations
spring.cloud.consul.host=localhost
spring.cloud.consul.port=8500
spring.cloud.consul.discovery.enabled=true