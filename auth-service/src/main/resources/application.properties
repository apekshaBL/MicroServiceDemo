spring.application.name=auth-service
server.port=8088

# --- Database Configuration ---
spring.datasource.url=jdbc:postgresql://${DB_HOST:localhost}:${DB_PORT:5432}/student_service_db
spring.datasource.username=postgres
spring.datasource.password=apeksha123
spring.datasource.driver-class-name=org.postgresql.Driver

# --- Liquibase Configuration ---
# We disable the default Spring Liquibase runner because multi-tenancy
# requires running migrations manually for each tenant schema.
spring.liquibase.enabled=false
spring.liquibase.change-log=classpath:db/changelog/db.changelog-master.xml

# --- JPA / Hibernate Multi-Tenancy ---
# 1. MUST be 'none' because Liquibase handles the schema now
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
management.endpoints.web.exposure.include=health

spring.cloud.consul.discovery.prefer-ip-address=true
spring.cloud.consul.discovery.ip-address=10.214.149.237


# Tell Hibernate to use the SCHEMA strategy
spring.jpa.properties.hibernate.multiTenancy=SCHEMA


spring.cloud.consul.discovery.hostname=host.docker.internal


# --- Consul Discovery ---
spring.cloud.consul.discovery.health-check-critical-timeout=1m
spring.cloud.consul.discovery.instance-id=${spring.application.name}:${random.value}